{% extends 'core/plantilla.html' %}
{% load static %}

{% block content %}


<link rel="stylesheet" href="{% static 'css/carrito.css' %}">


<body>
    <div id="div-mensaje">
        {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="{% if message.tags %}{{ message.tags }}{% else %}info{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    
    

    {% comment %}* ----------------------CARRO ANTIGUO -----------------------------------{% endcomment %}
    <!-- <section id="carrito">
        {% if request.session.carrito|length > 0 %}

        {% for item in request.session.carrito %}

        {% comment %} dentro de un href {% url 'delToCar' item.id %} eliminar {% endcomment %}
        {% endfor %}

        {% endif %}
        <div id="contenedor-carrito">
            <h1>Tu carrito</h1>
            <div id="lista-productos">
                <div id="titulos">
                    <h5 id="primero">Producto</h5>
                    <h5 id="segundo">Precio</h5>
                    <h5 id="tercero">Cantidad</h5>
                    <h5 id="cuarto">Sub total</h5>
                </div>
                <div id="productos">
                    <div class="producto">
                        <p class="nombre-producto">Memoria RAM HyperX 16gb</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Disco SSD 2,5" </p>
                        <p class="precio-producto">$25.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$25.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Cargador azul HP</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Cargador azul HP</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Cargador azul HP</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Cargador azul HP</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Cargador azul HP</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Cargador azul HP</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>
                    <div class="producto">
                        <p class="nombre-producto">Cargador azul HP</p>
                        <p class="precio-producto">$15.000 CLP</p>
                        <input id="cantidad-producto" type="number" min="0" max="100" step="1" value="0">
                        <p class="subtotal-producto">$30.000 CLP</p>
                        <a href="https://g.co/kgs/PUav5gc" class="btn-quitar btn-dark">Quitar</a>
                    </div>

                </div>
                <div id="total">
                    <p>Subtotal:</p>
                    <p id="subtotal">$55.000 CLP</p>
                </div>


                <div id="botones">
                    <a href="https://g.co/kgs/PUav5gc" class="btn-pagar btn-dark">Pagar</a>
                </div>
            </div>
        </div>
    </section> -->

    {% comment %}* ----------------------CARRO NUEVO -----------------------------------{% endcomment %}

    {% if not carro %}
    
    <h1 style='text-align: center   '>Carrito de compras</h1>
    
    <h2 style='text-align: center'>Tu carrito está vacio!</h2>
    <div style='height: 30svh'></div>
    {% else %}
    <h1 style='text-align: center   '>Carrito de compras</h1>
    <section id="compras-de-hoy">
        
        <table class="estilo-tabla">
            <thead>
                <tr class="titulo-carro">
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Imagen</th>
                    <th>Total</th>
                    <th>Eliminar</th>
                </tr>
            </thead>
            <tbody>
                {% for item in carro %}
                <tr>
                    <td>{{ item.id }}</td>
                    <td>{{ item.nombre }}</td>
                    <td>${{ item.precio }}</td>
                    <td>{{ item.cantidad }}</td>
                    <td><img style="height: 10vh;" src="{{ item.imagen }}" alt=""></td>
                    <td>${{ item.total }}</td>
                    <td><a class="btn-quitar" href="{% url 'delToCar' item.id %}">Eliminar</a></td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr class="tdfooter">
                    <td class="td-sub" colspan="5">Subtotal:</td>
                    <td id="subtotal" colspan="1">${{ subtotal }}</td>
                    
                    <td colspan="0" class="td-comprar">
                        <a class="a-comprar" href="{% url 'comprar' %}">Comprar</a>
                    </td>
                    
                </tr>
            </tfoot>
        </table>
    </section>
    {% endif %}
    <!-- {% if not carro %}
    <h2>Tu carrito está vacio!</h2>
    {% else %}
    <div class="comprar">
        <a href="{% url 'comprar' %}">Comprar</a>
    </div>
    {% endif %} -->


    {% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="{% static 'js/funciones.js' %}"></script>

    


</body>

</html>